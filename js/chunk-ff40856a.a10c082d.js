(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ff40856a"],{"0f2d":function(t,e,n){},"1ab9":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"detail"},[n("navbar",{attrs:{title:"文章详情",needMore:"true"},on:{back:t.back,more:t.more}}),n("div",{staticClass:"top"},[n("div",{staticClass:"title"},[n("h3",{domProps:{innerHTML:t._s(t.artObj.title)}})]),n("van-sticky",[n("div",{staticClass:"info"},[n("div",{staticClass:"left"},[n("div",{staticClass:"avatar"},[n("img",{attrs:{src:t.artObj.aut_photo,alt:""}})]),n("div",{staticClass:"userBox"},[n("div",{staticClass:"username"},[t._v(t._s(t.artObj.aut_name))]),n("div",{staticClass:"time"},[t._v(t._s(t._f("findTime")(t.artObj.pubdate)))])])]),n("div",{staticClass:"right",on:{click:t.follow}},[t.artObj.is_followed?n("div",{staticClass:"attention followed"},[t._v(" 已关注 ")]):n("div",{staticClass:"attention"},[n("div",{staticClass:"plus"},[t._v(" + ")]),t._v(" 关注 ")])])])]),n("div",{staticClass:"article",domProps:{innerHTML:t._s(t.artObj.content)}}),n("div",{staticClass:"guess"},[n("div",[t._v("猜你喜欢")]),n("ul",{staticClass:"tags"},t._l(6,(function(e,a){return n("li",{key:a,staticClass:"tag"},[t._v(" 了解微信小程序 ")])})),0)]),n("div",{staticClass:"action"},[n("div",{staticClass:"like",on:{click:t.more}},[n("div",{staticClass:"likeMore"},[t._v("MORE")]),n("van-icon",{staticClass:"moreIcon",attrs:{name:"ellipsis"}})],1)]),t._m(0)],1),n("div",{staticClass:"comment"},[n("ul",{staticClass:"items"},[n("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.comArr,(function(e,a){return n("commentItem",{key:a,ref:"comCount",refInFor:!0,attrs:{item:e,index:a},on:{replayCom:function(e){return t.replayCom(e,a)},likeCom:function(e){return t.likeCom(e)},dislikeCom:function(e){return t.dislikeCom(e)}}})})),1)],1)]),n("div",{staticClass:"text"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],staticClass:"myInput",attrs:{type:"text",placeholder:"请输入搜索关键词"},domProps:{value:t.value},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sendComment(e)},input:function(e){e.target.composing||(t.value=e.target.value)}}}),n("van-button",{staticClass:"myBTN",attrs:{type:"primary",size:"small"},on:{click:t.sendComment}},[t._v("发送")])],1),n("van-popup",{staticClass:"replayPopUp",style:{height:"80%"},attrs:{position:"bottom"},model:{value:t.show,callback:function(e){t.show=e},expression:"show"}},[n("div",{staticClass:"topTitle"},[n("van-icon",{attrs:{name:"cross"},on:{click:t.closeReplay}}),n("div",{staticClass:"title"},[t._v("共"+t._s(t.replayList.length)+"回复")])],1),n("van-list",{attrs:{finished:t.finishedReplay,"finished-text":"没有更多了"},on:{load:t.onLoadReplay},model:{value:t.loadingReplay,callback:function(e){t.loadingReplay=e},expression:"loadingReplay"}},[n("replayItem",{attrs:{itemR:t.itemR}}),n("p",{staticClass:"allRepaly"},[t._v("全部回复")]),t._l(t.replayList,(function(e,a){return n("replayItem",{key:a,attrs:{itemR:e},on:{likeCom:function(e){return t.likeCom(e)},dislikeCom:function(e){return t.dislikeCom(e)}}})}))],2),n("div",{staticClass:"text"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.valueReplay,expression:"valueReplay"}],staticClass:"myInput",attrs:{type:"text",placeholder:"请输入搜索关键词"},domProps:{value:t.valueReplay},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sendReplay(e)},input:function(e){e.target.composing||(t.valueReplay=e.target.value)}}}),n("van-button",{staticClass:"myBTN",attrs:{type:"primary",size:"small"},on:{click:t.sendReplay}},[t._v("发送")])],1)],1),n("van-popup",{staticClass:"more",style:{height:"66%",width:"40%"},attrs:{position:"right"},model:{value:t.showMore,callback:function(e){t.showMore=e},expression:"showMore"}},[n("div",{staticClass:"myMoreBTN",class:{cancelCollect:!0===t.artObj.is_collected},on:{click:t.collectArtBTN}},[n("van-icon",{staticClass:"myIcon",attrs:{name:"star-o"}}),n("div",{staticClass:"bottomText"},[t._v("收藏")])],1),n("div",{staticClass:"myMoreBTN like",class:{likeActive:1===t.artObj.attitude},on:{click:t.likeAction}},[n("van-icon",{staticClass:"myIcon",attrs:{name:"good-job-o"}}),n("div",{staticClass:"bottomText"},[t._v("点赞")])],1),n("div",{staticClass:"myMoreBTN dislike",class:{dislikeActive:0===t.artObj.attitude},on:{click:t.dislikeAction}},[n("van-icon",{staticClass:"myIcon",attrs:{name:"delete-o"}}),n("div",{staticClass:"bottomText"},[t._v("不喜欢")])],1)])],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"ad"},[a("img",{attrs:{src:n("b2da"),alt:""}}),a("div",{staticClass:"title"},[t._v(" 前端与移动开发-课程升级V6.0 高薪技术全覆盖学前端 选择-传智播客 ")])])}],r=n("1da1"),s=(n("d3b7"),n("25f0"),n("96cf"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"item"},[n("div",{staticClass:"left"},[n("div",{staticClass:"avatar"},[n("img",{attrs:{src:t.itemR.aut_photo,alt:""}})])]),n("div",{staticClass:"mid"},[n("div",{staticClass:"username"},[t._v(t._s(t.itemR.aut_name))]),n("div",{staticClass:"context"},[t._v(t._s(t.itemR.content))]),n("div",{staticClass:"bottom"},[n("div",{staticClass:"time"},[t._v(t._s(t._f("findTime")(t.itemR.pubdate)))])])]),n("div",{staticClass:"right"},[n("div",{staticClass:"like"},[t.like?t.like?n("van-icon",{staticClass:"myIcon active",attrs:{name:"like"},on:{click:function(e){return t.dislikeCom(t.itemR)}}}):t._e():n("van-icon",{staticClass:"myIcon",attrs:{name:"like-o"},on:{click:function(e){return t.likeCom(t.itemR)}}}),t._v(" "+t._s(t.itemR.like_count)+" ")],1)])])}),o=[],c={name:"replayItem",props:["itemR"],data:function(){return{like:!1}},methods:{replayCom:function(t){this.$emit("replayCom",t)},likeCom:function(t){this.$emit("likeCom",t),this.like=!0,this.itemR.like_count+=1},dislikeCom:function(t){this.$emit("dislikeCom",t),this.like=!1,this.itemR.like_count-=1}}},l=c,u=(n("ca9e"),n("2877")),d=Object(u["a"])(l,s,o,!1,null,"e6176854",null),m=d.exports,v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"item"},[n("div",{staticClass:"left"},[n("div",{staticClass:"avatar"},[n("img",{attrs:{src:t.item.aut_photo,alt:""}})])]),n("div",{staticClass:"mid"},[n("div",{staticClass:"username"},[t._v(t._s(t.item.aut_name))]),n("div",{staticClass:"context"},[t._v(t._s(t.item.content))]),n("div",{staticClass:"bottom"},[n("div",{staticClass:"time"},[t._v(t._s(t._f("findTime")(t.item.pubdate)))]),n("div",{staticClass:"reply",on:{click:function(e){return t.replayCom(t.item)}}},[t._v("回复 "+t._s(t.count))])])]),n("div",{staticClass:"right"},[n("div",{staticClass:"like"},[t.like?t.like?n("van-icon",{staticClass:"myIcon active",attrs:{name:"like"},on:{click:function(e){return t.dislikeCom(t.item)}}}):t._e():n("van-icon",{staticClass:"myIcon",attrs:{name:"like-o"},on:{click:function(e){return t.likeCom(t.item)}}}),t._v(" "+t._s(t.item.like_count)+" ")],1)])])},f=[],p={name:"commentItem",props:["item","index"],data:function(){return{like:!1,count:0}},created:function(){this.count=this.item.reply_count},methods:{replayCom:function(t){this.$emit("replayCom",t),console.log(this.index)},likeCom:function(t){this.$emit("likeCom",t),this.like=!0,this.item.like_count+=1},dislikeCom:function(t){this.$emit("dislikeCom",t),this.like=!1,this.item.like_count-=1}}},k=p,b=(n("93bf"),Object(u["a"])(k,v,f,!1,null,"3186ab70",null)),h=b.exports,g=n("8691"),C=n("c24f"),_={name:"detail",components:{commentItem:h,replayItem:m},data:function(){return{id:0,like:!0,loading:!1,finished:!1,loadingReplay:!1,finishedReplay:!1,list:[],value:"",artObj:{},comArr:[],show:!1,valueReplay:"",itemR:{},replayList:[],showMore:!1,currentReplay:0}},created:function(){},methods:{collectArtBTN:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!1!==t.artObj.is_collected){e.next=8;break}return console.log(123),e.next=4,Object(g["f"])(t.id);case 4:return n=e.sent,console.log(n),t.artObj.is_collected=!0,e.abrupt("return");case 8:return e.next=10,Object(g["e"])(t.id);case 10:a=e.sent,console.log(a),t.artObj.is_collected=!1;case 13:case"end":return e.stop()}}),e)})))()},dislikeCom:function(t){return Object(r["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,Object(g["d"])(t.com_id.toString());case 3:n=e.sent,console.log(n);case 5:case"end":return e.stop()}}),e)})))()},likeCom:function(t){return Object(r["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,Object(g["p"])(t.com_id.toString());case 3:n=e.sent,console.log(n);case 5:case"end":return e.stop()}}),e)})))()},closeReplay:function(){this.valueReplay="",this.show=!1},sendReplay:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(g["r"])(t.itemR.com_id,t.valueReplay,t.id);case 3:n=e.sent,console.log("回复评论",n),t.replayList.unshift(n.data.data.new_obj),t.$refs.comCount[t.currentReplay].count+=1,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log("回复",e.t0);case 12:t.valueReplay="";case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))()},replayCom:function(t,e){var n=this;return Object(r["a"])(regeneratorRuntime.mark((function a(){var i;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n.itemR={},n.itemR=t,console.log(n.itemR),console.log(e),a.prev=4,a.next=7,Object(g["k"])("c",n.itemR.com_id.toString());case 7:i=a.sent,console.log("获取回复",i),n.replayList=i.data.data.results||[],a.next=15;break;case 12:a.prev=12,a.t0=a["catch"](4),console.log("评论",a.t0);case 15:n.$nextTick((function(){n.currentReplay=e,n.show=!0}));case 16:case"end":return a.stop()}}),a,null,[[4,12]])})))()},back:function(){console.log("back"),this.$router.back()},more:function(){console.log("more"),this.showMore=!0},sendComment:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(g["r"])(t.id.toString(),t.value);case 3:n=e.sent,t.comArr.unshift(n.data.data.new_obj),console.log("发表评论",n),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log("发送评论",e.t0);case 11:t.value="";case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))()},onLoadReplay:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.loadingReplay=!1,t.finishedReplay=!0;case 2:case"end":return e.stop()}}),e)})))()},onLoad:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.id=t.$route.params.id,e.next=4,Object(g["l"])(t.id.toString());case 4:n=e.sent,t.artObj=n.data.data||{},console.log("文章详情",n),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](0),console.log("文章",e.t0);case 12:return e.prev=12,e.next=15,Object(g["k"])("a",t.id.toString());case 15:a=e.sent,t.comArr=a.data.data.results||[],console.log("文章评论",a),console.log(t.comArr),e.next=24;break;case 21:e.prev=21,e.t1=e["catch"](12),console.log("评论",e.t1);case 24:t.loading=!1,0===t.list.length&&(t.finished=!0);case 26:case"end":return e.stop()}}),e,null,[[0,9],[12,21]])})))()},follow:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.artObj.is_followed){e.next=7;break}return t.artObj.is_followed=!1,e.next=4,Object(C["b"])(t.artObj.aut_id);case 4:return n=e.sent,console.log(n),e.abrupt("return");case 7:return t.artObj.is_followed=!0,e.next=10,Object(C["e"])(t.artObj.aut_id);case 10:a=e.sent,console.log(a);case 12:case"end":return e.stop()}}),e)})))()},likeAction:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(1!==t.artObj.attitude){e.next=7;break}return t.artObj.attitude=-1,e.next=4,Object(g["c"])(t.id.toString());case 4:return n=e.sent,console.log(n),e.abrupt("return");case 7:return t.artObj.attitude=1,e.next=10,Object(g["o"])(t.id.toString());case 10:return a=e.sent,e.next=13,Object(g["b"])(t.id.toString());case 13:console.log(a);case 14:case"end":return e.stop()}}),e)})))()},dislikeAction:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!==t.artObj.attitude){e.next=8;break}return t.artObj.attitude=-1,e.next=4,Object(g["b"])(t.id.toString());case 4:return n=e.sent,console.log(n),console.log(t.artObj.attitude),e.abrupt("return");case 8:return t.artObj.attitude=0,e.next=11,Object(g["i"])(t.id.toString());case 11:return a=e.sent,e.next=14,Object(g["c"])(t.id.toString());case 14:console.log(a),console.log(t.artObj.attitude);case 16:case"end":return e.stop()}}),e)})))()}}},y=_,O=(n("2ebb"),Object(u["a"])(y,a,i,!1,null,"6fbadede",null));e["default"]=O.exports},"25f0":function(t,e,n){"use strict";var a=n("6eeb"),i=n("825a"),r=n("d039"),s=n("ad6d"),o="toString",c=RegExp.prototype,l=c[o],u=r((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),d=l.name!=o;(u||d)&&a(RegExp.prototype,o,(function(){var t=i(this),e=String(t.source),n=t.flags,a=String(void 0===n&&t instanceof RegExp&&!("flags"in c)?s.call(t):n);return"/"+e+"/"+a}),{unsafe:!0})},"2ebb":function(t,e,n){"use strict";n("0f2d")},6821:function(t,e,n){},8691:function(t,e,n){"use strict";n.d(e,"m",(function(){return i})),n.d(e,"l",(function(){return r})),n.d(e,"n",(function(){return s})),n.d(e,"k",(function(){return o})),n.d(e,"r",(function(){return c})),n.d(e,"i",(function(){return l})),n.d(e,"b",(function(){return u})),n.d(e,"o",(function(){return d})),n.d(e,"c",(function(){return m})),n.d(e,"j",(function(){return v})),n.d(e,"a",(function(){return f})),n.d(e,"g",(function(){return p})),n.d(e,"h",(function(){return k})),n.d(e,"q",(function(){return b})),n.d(e,"p",(function(){return h})),n.d(e,"d",(function(){return g})),n.d(e,"f",(function(){return C})),n.d(e,"e",(function(){return _}));var a=n("4020"),i=function(t,e){return Object(a["a"])({method:"GET",url:"/v1_1/articles",needToken:!0,params:{channel_id:t,timestamp:e,with_top:1}})},r=function(t){return Object(a["a"])({method:"GET",url:"v1_0/articles/".concat(t),needToken:!0})},s=function(){return Object(a["a"])({method:"GET",url:"/v1_0/user/channels",needToken:!0})},o=function(t,e,n,i){return Object(a["a"])({method:"GET",url:"v1_0/comments",params:{type:t,source:e,offset:n,limit:i}})},c=function(t,e,n){return Object(a["a"])({method:"POST",url:"v1_0/comments",needToken:!0,data:{target:t,content:e,art_id:n}})},l=function(t){return Object(a["a"])({method:"POST",url:"v1_0/article/dislikes",needToken:!0,data:{target:t}})},u=function(t){return Object(a["a"])({method:"DELETE",url:"v1_0/article/dislikes/".concat(t),needToken:!0})},d=function(t){return Object(a["a"])({method:"POST",url:"v1_0/article/likings",needToken:!0,data:{target:t}})},m=function(t){return Object(a["a"])({method:"DELETE",url:"v1_0/article/likings/".concat(t),needToken:!0})},v=function(){return Object(a["a"])({url:"/v1_0/channels",method:"GET",needToken:!0})},f=function(t){return Object(a["a"])({url:"/v1_0/user/channels",method:"PUT",data:{channels:t},needToken:!0})},p=function(t){return Object(a["a"])({url:"/v1_0/user/channels/"+t,method:"DELETE",needToken:!0})},k=function(t){return Object(a["a"])({method:"POST",url:"v1_0/article/dislikes",data:{target:t},needToken:!0})},b=function(t,e){return Object(a["a"])({method:"POST",url:"v1_0/article/reports",data:{target:t,type:e},needToken:!0})},h=function(t){return Object(a["a"])({method:"POST",url:"v1_0/comment/likings",data:{target:t},needToken:!0})},g=function(t){return Object(a["a"])({method:"DELETE",url:"v1_0/comment/likings/".concat(t),needToken:!0})},C=function(t){return Object(a["a"])({method:"POST",url:"v1_0/article/collections",data:{target:t},needToken:!0})},_=function(t){return Object(a["a"])({method:"DELETE",url:"v1_0/article/collections/".concat(t),needToken:!0})}},"93bf":function(t,e,n){"use strict";n("6821")},ad6d:function(t,e,n){"use strict";var a=n("825a");t.exports=function(){var t=a(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},b2da:function(t,e,n){t.exports=n.p+"img/图层 4@2x.b18ff762.png"},c193:function(t,e,n){},ca9e:function(t,e,n){"use strict";n("c193")}}]);
//# sourceMappingURL=chunk-ff40856a.a10c082d.js.map